{% extends "base.html" %}
{% block title %}Application information{% endblock %}

{% block content %}
<section class="section">
  <div class="container">
    <p class="breadcrumb"><a href="{{ url_for('index') }}">Home</a> → <a href="{{ url_for('submit_online_start') }}">Submit online</a> → Information</p>
    <h1>Information we need to submit</h1>
    <p class="section-sub">Enter the details for this application (or the first one if you’re doing bulk). We’ll use this to fill the portal.</p>
    {% if error %}
    <p class="form-error">{{ error }}</p>
    {% endif %}
    <form action="{{ url_for('submit_online_review') }}" method="post" class="card form-card">
      <input type="hidden" name="portal_url" value="{{ portal_url or '' }}">
      <input type="hidden" name="username" value="{{ username or '' }}">
      <input type="hidden" name="password" value="{{ password or '' }}">
      <div class="form-group">
        <label for="applicant_name">Applicant / Company name</label>
        <input type="text" id="applicant_name" name="applicant_name" required
               placeholder="e.g. Acme Telecom"
               value="{{ request.form.get('applicant_name', '') }}">
      </div>
      <div class="form-group">
        <label for="jurisdiction">Jurisdiction</label>
        <input type="text" id="jurisdiction" name="jurisdiction" required
               placeholder="e.g. City of Sample"
               value="{{ request.form.get('jurisdiction', '') }}">
      </div>
      <div class="form-group">
        <label for="address">Site address</label>
        <input type="text" id="address" name="address" required
               placeholder="e.g. 123 Main St"
               value="{{ request.form.get('address', '') }}">
      </div>
      <div class="form-group">
        <label for="scope">Scope of work</label>
        <select id="scope" name="scope">
          <option value="small_cell" {{ 'selected' if request.form.get('scope') == 'small_cell' else '' }}>Small cell</option>
          <option value="fiber" {{ 'selected' if request.form.get('scope') == 'fiber' else '' }}>Fiber</option>
          <option value="both" {{ 'selected' if request.form.get('scope') == 'both' else '' }}>Both</option>
        </select>
      </div>
      <div class="form-group">
        <label for="contact_email">Contact email</label>
        <input type="email" id="contact_email" name="contact_email"
               placeholder="you@company.com"
               value="{{ request.form.get('contact_email', '') }}">
      </div>
      <div class="form-group">
        <label for="contact_phone">Contact phone</label>
        <input type="tel" id="contact_phone" name="contact_phone"
               placeholder="(555) 123-4567"
               value="{{ request.form.get('contact_phone', '') }}">
      </div>
      <button type="submit" class="btn btn-primary">Review and submit →</button>
    </form>
  </div>
</section>
{% endblock %}
